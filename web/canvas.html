<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<canvas id="can" width="1024" height="1024" style="border:1px solid black"></canvas>
<script>
    var uri = "ws://222.122.192.57:8080/";
    function init(){
    connect();
    }
    function connect(){
    websocket = new WebSocket(uri);
    websocket.onmessage = onMessage;

    }
    function onMessage(event){
    var data = JSON.parse(event.data)
    var canvas = document.getElementById("can");
    var context = canvas.getContext("2d");
    context.fillstyle = "lightblue";
    var startx;
    var starty;
    var endx;
    var endy;
    for(i=0;i<data.zone.num_zone;i++){
    for(j=0;j<data.zone.list_zone[i].clients.num_client;j++){
    context.beginPath();
    context.arc(data.zone.list_zone[i].clients.list_client[j].client_x,data.zone.list_zone[i].clients.list_client[j].client_y,5,0,2*Math.PI,true);
    context.fill();
    }
    startx=data.zone.list_zone[i].lt_x;
    starty=data.zone.list_zone[i].lt_y;
    endx=data.zone.list_zone[i].rb_x;
    endy=data.zone.list_zone[i].rb_y;
    context.rect(startx,starty,endx-startx,endy-starty);
    context.strokeStyle = "black";
    context.lineWidth = 2;
    context.stroke();
    }
context.closePath();
    context.fillstyle = "lightblue";
    }
    window.addEventListener("load", init, false);
</script>

</body>
</html>